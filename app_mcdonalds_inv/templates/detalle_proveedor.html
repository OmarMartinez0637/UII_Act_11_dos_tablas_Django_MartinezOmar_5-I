{% extends 'base.html' %}
{% block titulo %}{{ proveedor.nombre }} | McDonald's Inventario{% endblock %}

{% block contenido %}
<article class="entity-detail">
    <div class="entity-banner">
        {% if proveedor.logo_proveedor %}
            <img src="{{ proveedor.logo_proveedor.url }}" alt="Logo de {{ proveedor.nombre }}" class="detail-photo">
        {% else %}
            <div class="detail-placeholder">üöö</div>
        {% endif %}
        <div class="entity-info">
            <h1>{{ proveedor.nombre }}</h1>
            <h3>Productos: {{ proveedor.producto_suministrado }}</h3>
            <p>Tel√©fono: {{ proveedor.telefono|default:"N/A" }}</p>
            <p>Email: {{ proveedor.email|default:"N/A" }}</p>
            <p>Direcci√≥n: {{ proveedor.direccion|default:"N/A" }}</p>
        </div>
    </div>

    <div class="detail-actions">
        <a href="{% url 'app_mcdonalds_inv:editar_proveedor' proveedor.id_proveedor %}" class="btn btn-secondary">‚úèÔ∏è Editar Proveedor</a>
        <a href="{% url 'app_mcdonalds_inv:borrar_proveedor' proveedor.id_proveedor %}" class="btn btn-danger">üóëÔ∏è Borrar Proveedor</a>
        <a href="{% url 'app_mcdonalds_inv:crear_insumo' proveedor.id_proveedor %}" class="btn btn-primary">‚ûï Nuevo Insumo</a>
    </div>

    <section class="related-items-section">
        <h2>Insumos Suministrados</h2>
        {% if insumos %}
        <ul class="item-list">
            {% for insumo in insumos %}
            <li>
                <div class="item-content">
                    {% if insumo.imagen_insumo %}
                        <img src="{{ insumo.imagen_insumo.url }}" alt="Imagen de {{ insumo.nombre_insumo }}" class="item-thumbnail">
                    {% else %}
                        <div class="item-thumbnail-placeholder">üì¶</div>
                    {% endif %}
                    <div class="item-info">
                        <strong>{{ insumo.nombre_insumo }}</strong>
                        <p>Cantidad: {{ insumo.cantidad }} {{ insumo.unidad }}</p>
                        <p>Fecha de Entrega: {{ insumo.fecha_entrega|default:"N/A" }}</p>
                    </div>
                </div>
                <div class="item-actions">
                    <a href="{% url 'app_mcdonalds_inv:editar_insumo' insumo.id_inventario %}" class="btn btn-small btn-secondary">Editar</a>
                    <a href="{% url 'app_mcdonalds_inv:borrar_insumo' insumo.id_inventario %}" class="btn btn-small btn-danger">Borrar</a>
                </div>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="empty-message">Este proveedor no tiene insumos registrados en el inventario.</p>
        {% endif %}
    </section>
</article>
{% endblock %}